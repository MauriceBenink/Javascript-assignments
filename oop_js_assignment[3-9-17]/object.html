<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8" >
    <title>Factory Pattern</title>
    <style>
        div{
            width: 400px;
            min-height: 100px;
            border: 1px solid orange;
            border-radius: 5px;
            padding: 10px;
            margin: 10px auto;
        }
        .erin{
            background: orange;
        }
    </style>
    <script>
		var Hok = function(invoer,id){
		console.log(document.getElementById("insert").innerhtml+"<div id = "+id+"></div>");
		//test
			div = document.createElement("DIV");
			div.id = id;
			document.getElementById("insert").appendChild(div);
				
			this.naam = invoer;
			this.display = this.naam;
			this.id = id;
			
			this.getnaam = function(){
				return this.naam;
			}
			
			this.enter = function(){
				this.display = "Hello mouse !";
				this.update();
			}
			this.leave = function(){
				this.display = "Goodbye mouse !";
				this.update();
			}
			this.click = function(){
				this.display = "OUCH!";
				this.update();
			}
			this.reset = function(newvar){
				this.display = newvar;
				this.update();
			}
			this.update = function(){
				document.getElementById(this.id).innerHTML = this.display;
			}
			this.update();
		}
	</script>
</head>

<body>
	<main id = "insert">
	<br><br>
	</main>

    <script>
	NewHok("maurice","vak1");
	NewHok("Sebastiaan","vak2");
	NewHok("Maurice2","vak3");
	
	//automatice ID aanwijzing.
	//duplicated namen automatice fixen
	
	function NewHok(naam,id){
		var naam = new Hok(naam,id);
		make_em_click(document.getElementById(id),naam);
	}
	
	function make_em_click(element,objname){
		element.onclick = function(){onclickfunction(objname)}
		element.onmouseenter = function(){onhoverfunction(objname)};
		element.onmouseleave = function(){onhoverfunction2(objname)};
	}
	function onhoverfunction(objname){	
		objname.enter();
	}
	function onhoverfunction2(objname){
		objname.leave();
		setTimeout(function(){objname.reset(objname.getnaam());},2000);
	}
	function onclickfunction(objname){
		objname.click();
	}
    </script>
</body>
</html>
